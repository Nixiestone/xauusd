name: XAUUSD Gold Trader

on:
  schedule:
    - cron: '*/5 8-20 * * 1-5'  # Every 5 min, Mon-Fri, 8AM-8PM
  workflow_dispatch:             # Manual run

jobs:
  send-signal:
    runs-on: ubuntu-latest
    steps:
    - name: Send Telegram Alert
      env:
        BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
        CHAT_ID: ${{ secrets.TELEGRAM_CHAT_ID }}
      run: |
        current_time=$(date +"%Y-%m-%d %H:%M:%S")
        message="ðŸ•’ GitHub Actions Check
        Time: $current_time
        Repo: xauusd
        Status: âœ… RUNNING
        Next: Checking XAUUSD signals..."
        
        curl -s -X POST "https://api.telegram.org/bot$BOT_TOKEN/sendMessage" \
          -d chat_id="$CHAT_ID" \
          -d text="$message"